OASISFormat:  0.4
Name:         bil-veri
Version:      0.2
Synopsis:     Bil verification tool
Authors:      BAP Team
Maintainers:  Ivan Gotovchits <ivg@ieee.org>,
              Oleg Kamenkov <forown@yandex.ru>
License:      MIT
Copyrights:   (C) 2016 Carnegie Mellon University
Plugins:      META (0.4), DevFiles (0.4)
BuildTools:   ocamlbuild
BuildDepends: ppx_jane, core_kernel, pcre

Library veri
  Path:           lib
  FindLibName:    bap-veri
  Modules:        Veri, Veri_error, Veri_stat, Veri_rule, Veri_traci, Veri_policy
  CompiledObject: best
  Install:        false
  NativeOpt:      -pp 'ppx-jane -dump-ast'
  ByteOpt:        -pp 'ppx-jane -dump-ast'
  BuildDepends:   bap, bap-traces, textutils, threads

Library veri_test
  Path:           tests
  Install:        false
  CompiledObject: best
  Modules:        Veri_test
  BuildDepends:   bap, bap-traces, bap-veri, oUnit

Executable veri_main
  Path:           src
  MainIs:         veri_main.ml
  CompiledObject: best
  Install:        true
  BuildDepends:   findlib.dynload, bap, bap.plugins,
                  bap-veri, bap-traces, cmdliner

Executable veri_bench
  Path:           src
  MainIs:         veri_bench.ml
  CompiledObject: best
  Install:        false
  BuildDepends:   findlib.dynload, bap, bap.plugins,
                  bap-veri, bap-traces, cmdliner, core_bench

Executable run_tests
  Path:           tests
  MainIs:         run_tests.ml
  Install:        false
  Build$:         flag(tests)
  BuildDepends:   bap, bap-traces, bap.plugins, veri_test, oUnit, findlib.dynload
  CompiledObject: best

Test veri_test
  TestTools:      run_tests
  Run$:           flag(tests)
  Command:        $run_tests -runner sequential
